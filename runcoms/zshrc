#!/usr/bin/zsh
#
# Executes commands at the start of an interactive session.
#
# Authors:
#   Sorin Ionescu <sorin.ionescu@gmail.com>
#

# Source Prezto.
if [[ -s "${ZDOTDIR:-$HOME}/.zprezto/init.zsh" ]]; then
  source "${ZDOTDIR:-$HOME}/.zprezto/init.zsh"
fi

# Customize to your needs...

# Ensure that the editor is set properly
export VISUAL=emacsclient
export EDITOR=emacsclient

# zsh customization dir
alias zc='cd ~/.zprezto/runcoms'

if [[ `uname` =~ MSYS_NT ]]; then
    alias ex='explorer .'

    if [[ `whoami` =~ student ]]; then
        alias pl='cd c:/Repos/portal/portal'
        alias ga='cd c:/Repos/Glass\ App'
        alias dl='cd c:/Users/Student/Downloads'
        alias dr='cd c:/Users/Student/Dropbox'
        alias rp='cd c:/Repos/Glass\ App'
    else
        alias dl='cd f:/Media/Downloads'
        alias dr='cd f:/Media/Dropbox'
    fi

else
    alias dl='cd ~/Downloads'
fi

# Should probably investigate why I can't use the 'function'
# syntax for this.
alias e=e

alias msysupdate='pacman --needed -S bash pacman msys2-runtime'
function zupdate {
    setopt EXTENDED_GLOB
    for rcfile in "${ZDOTDIR:-$HOME}"/.zprezto/runcoms/^README.md(.N); do
        rm -f "${ZDOTDIR:-$HOME}/.${rcfile:t}"
        ln -s "$rcfile" "${ZDOTDIR:-$HOME}/.${rcfile:t}"
    done
    source ~/.zprezto/runcoms/zshrc
}
